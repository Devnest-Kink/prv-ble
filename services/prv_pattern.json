{
  "service": {
    "name": "PRV Pattern Service",
    "UUID": "00006910-FDCB-4558-B637-DF8901CE7E8A"
  },
  "characteristics": [
    {
      "name": "Pattern Service Metadata",
      "UUID": "00006911-FDCB-4558-B637-DF8901CE7E8A",
      "datastructure": [
        {
          "datatype": "uint16",
          "description": "Pattern Service version",
          "count": 1
        },
        {
          "datatype": "uint16",
          "description": "Pattern API version",
          "count": 1
        },
        {
          "datatype": "uint16",
          "description": "Number of patterns stored on device",
          "count": 1
        }
      ],
      "properties": {
        "read": true,
        "notify": true,
        "write": false,
        "write_without_response": false
      }
    },
    {
      "name": "Pattern Metadata",
      "UUID": "00006912-FDCB-4558-B637-DF8901CE7E8A",
      "datastructure": [
        {
          "datatype": "uint8",
          "description": "Index of pattern for metadata",
          "count": 1
        },
        {
          "datatype": "uint8",
          "description": "Pattern metadata (see pattern_schema.json)",
          "count": null
        }
      ],
      "properties": {
        "read": true,
        "notify": true,
        "write": false,
        "write_without_response": false
      }
    },
    {
      "name": "Pattern Metadata Selector",
      "UUID": "00006913-FDCB-4558-B637-DF8901CE7E8A",
      "datastructure": [
        {
          "datatype": "uint8",
          "description": "Set index of pattern info to display on Pattern Metadata Characteristic",
          "count": 1
        }
      ],
      "properties": {
        "read": false,
        "notify": false,
        "write": true,
        "write_without_response": false
      }
    },
    {
      "name": "Pattern Playback Status",
      "UUID": "00006918-FDCB-4558-B637-DF8901CE7E8A",
      "datastructure": [
        {
          "description": "One set of values per device output channel",
          "datatype": [
            {
              "datatype": "uint16",
              "description": "Channels bitfield, if channel is part of a link, all linked channels are indicated",
              "count": 1
            },
            {
              "datatype": "uint8",
              "description": "Playback status: 0xFF - Stopped, no pattern; 0x01 - Playing; 0x02 - Paused",
              "count": 1
            },
            {
              "datatype": "uint8",
              "description": "Pattern number playing on indicated channels, 1-indexed",
              "count": 1
            },
            {
              "datatype": "uint16",
              "description": "Pattern Input value",
              "count": 1
            },
            {
              "datatype": "uint16",
              "description": "Pattern Output value",
              "count": 1
            }
          ],
          "count": null
        }
      ],
      "properties": {
        "read": true,
        "notify": true,
        "write": false,
        "write_without_response": false
      }
    },
    {
      "name": "Pattern Playback Control",
      "UUID": "00006919-FDCB-4558-B637-DF8901CE7E8A",
      "datastructure": [
        {
          "datatype": "uint16",
          "description": "Channels bitfield, all channels this change applies to are indicated; when unlinking, the lowest-indexed channel (and any other channels remaining linked to it) is unaffected",
          "count": 1
        },
        {
          "datatype": "uint8",
          "description": "Change playback status: 0xFF - Stop, deselect pattern; 0x01 - Play sequentially; 0x02 - Pause; 0x03 - Resume; 0x08 - Toggle repeat; 0x09 - Play repeating; 0x00 - No change",
          "count": 1
        },
        {
          "datatype": "uint8",
          "description": "Pattern number to apply to selected channels, 1-indexed, 0 for no change",
          "count": 1
        },
        {
          "datatype": "uint16",
          "description": "Pattern Input value",
          "count": 1
        },
        {
          "datatype": "uint16",
          "description": "When unlinking indicated channel(s) from other channels, this bitfield identifies the other channel(s) that are no longer linked to indicated channel(s)",
          "count": 1
        }
      ],
      "properties": {
        "read": false,
        "notify": false,
        "write": true,
        "write_without_response": false
      }
    },
    {
      "name": "Add Pattern",
      "UUID": "0000691C-FDCB-4558-B637-DF8901CE7E8A",
      "datastructure": [
        {
          "datatype": "uint16",
          "description": "Index at which to add pattern, 0 to append",
          "count": 1
        },
        {
          "datatype": "uint8",
          "description": "Pattern bytes",
          "count": null
        }
      ],
      "properties": {
        "read": false,
        "notify": false,
        "write": true,
        "write_without_response": false
      }
    },
    {
      "name": "Delete Pattern",
      "UUID": "0000691E-FDCB-4558-B637-DF8901CE7E8A",
      "datastructure": [
        {
          "datatype": "uint16",
          "description": "Index of pattern to delete",
          "count": 1
        }
      ],
      "properties": {
        "read": false,
        "notify": false,
        "write": true,
        "write_without_response": false
      }
    },
    {
      "name": "Delete ALL Patterns",
      "UUID": "00006AAC-FDCB-4558-B637-DF8901CE7E8A",
      "datastructure": [
        {
          "datatype": "uint16",
          "description": "Delete ALL patterns on device. Value written to characteristic must be 0x6AAC.",
          "count": 1
        }
      ],
      "properties": {
        "read": false,
        "notify": false,
        "write": true,
        "write_without_response": false
      }
    }
  ]
}
